import{_ as ht}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-bonsatMx.js";import{d as vt,r as p,q as _,o as _t,z as kt,c as n,a as X,u as ft,h as wt,w as Y,b as e,e as k,f as l,t as i,n as q,k as bt,F as T,i as I}from"./app-DvBzGVNN.js";import{a as m}from"./api-CLHmaXEi.js";const Tt={class:"py-12"},Ct={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Dt={key:0,class:"mb-6 grid gap-4 md:grid-cols-3"},Mt={class:"overflow-hidden bg-white shadow sm:rounded-lg"},$t={class:"px-4 py-5 sm:p-6"},It={class:"mt-2 text-3xl font-bold text-gray-900"},Bt={class:"text-xs text-gray-500"},Et={class:"mt-4 flex flex-wrap gap-2"},St=["disabled"],Lt=["disabled"],Ot={class:"overflow-hidden bg-white shadow sm:rounded-lg"},At={class:"px-4 py-5 sm:p-6"},Nt={key:0,class:"mt-2"},zt={class:"text-2xl font-bold text-gray-900 mt-1"},Pt={key:1,class:"mt-2 text-sm text-gray-500"},jt={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Rt={class:"px-4 py-5 sm:p-6"},Ut={class:"mt-2 text-3xl font-bold text-gray-900"},Ft={key:1,class:"mb-6 overflow-hidden bg-white shadow sm:rounded-lg"},Vt={class:"px-4 py-5 sm:p-6"},Ht={class:"flex items-center justify-between mb-4"},Wt=["disabled"],qt={class:"overflow-x-auto"},Gt={class:"min-w-full divide-y divide-gray-200"},Jt={class:"divide-y divide-gray-200 bg-white"},Kt={class:"px-4 py-4 text-sm text-gray-900"},Qt={class:"px-4 py-4 text-sm text-gray-500"},Xt={class:"px-4 py-4 text-sm text-gray-500"},Yt={class:"px-4 py-4 text-sm text-gray-500"},Zt={key:0},te={key:2,class:"mb-6 overflow-hidden bg-white shadow sm:rounded-lg"},ee={class:"px-4 py-5 sm:p-6"},se={class:"overflow-x-auto"},ae={class:"min-w-full divide-y divide-gray-200"},oe={class:"divide-y divide-gray-200 bg-white"},ne={class:"whitespace-nowrap px-6 py-4 text-sm text-indigo-600"},le=["onClick"],ie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},re={class:"flex items-center space-x-2"},de=["onClick","disabled","aria-label"],ce={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-4 w-4"},ue={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-4 w-4"},xe={class:"overflow-hidden bg-white shadow sm:rounded-lg"},pe={class:"px-4 py-5 sm:p-6"},ye={key:0,class:"text-center py-8 text-gray-500"},me={key:1,class:"overflow-x-auto"},ge={class:"min-w-full divide-y divide-gray-200"},he={class:"divide-y divide-gray-200 bg-white"},ve={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},_e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ke={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},fe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},we={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},be={key:0,class:"flex items-center space-x-2"},Te=["disabled"],Ce=["disabled"],De=["disabled"],Me=["disabled"],$e={key:1,class:"text-xs text-gray-400"},Ie={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Be={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Ee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Se={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Le={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Oe={key:0,class:"flex items-center space-x-2"},Ae=["onClick","disabled"],Ne=["disabled"],ze={key:1,class:"text-xs text-gray-400"},Pe={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},je={class:"w-full max-w-2xl rounded-lg bg-white shadow-lg"},Re={class:"flex items-center justify-between border-b px-4 py-3"},Ue={class:"p-4"},Fe={key:0,class:"text-gray-500 text-sm"},Ve={key:1,class:"overflow-x-auto"},He={class:"min-w-full divide-y divide-gray-200"},We={class:"divide-y divide-gray-200 bg-white"},qe={class:"px-4 py-2 text-sm text-gray-900"},Ge={class:"px-4 py-2 text-sm text-gray-700"},Je={class:"px-4 py-2 text-sm text-gray-700"},Ke={class:"px-4 py-2 text-sm text-gray-700"},Qe={class:"px-4 py-2 text-sm text-gray-900"},Xe={class:"px-4 py-2 text-sm text-gray-700"},Ye={class:"px-4 py-2 text-sm text-gray-700"},Ze={class:"px-4 py-2 text-sm text-gray-700"},ts={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},es={class:"w-full max-w-lg rounded-lg bg-white shadow-lg"},ss={class:"flex items-center justify-between border-b px-4 py-3"},as={key:0,class:"p-4 text-sm text-gray-700"},os={class:"font-medium mb-1"},ns={class:"mb-2"},ls={key:0,class:"mb-2"},is=["href"],rs={key:1,class:"prose max-w-none"},ps=vt({__name:"Dashboard",setup(ds){const d=p(null),c=p(!1),C=p(""),D=p(new Date),b=p("employee"),R=p([]);p(null);const x=p(null),S=p(!1),G=p([]),M=p([]),f=p(null),L=p(!1),O=p([]),A=p(!1),U=async()=>{var s;A.value=!0;try{const t=await m.get("/admin/analytics/activity-logs",{params:{limit:100}});O.value=((s=t.data)==null?void 0:s.data)||[]}catch{O.value=[]}finally{A.value=!1}};let F=null;const h=_(()=>{var s,t;return!!((s=d.value)!=null&&s.clock_in)&&!((t=d.value)!=null&&t.clock_out)}),v=_(()=>{var s,t;return!!((s=d.value)!=null&&s.break_start)&&!((t=d.value)!=null&&t.break_end)}),Z=_(()=>{var s,t;return((s=d.value)==null?void 0:s.lunch_start)&&!((t=d.value)!=null&&t.lunch_end)}),w=s=>s?(typeof s=="string"?new Date(s):s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"--",N=(s,t)=>{if(!s||!t)return"--";const o=new Date(s),u=new Date(t).getTime()-o.getTime(),g=Math.floor(u/36e5),j=Math.floor(u%36e5/6e4),a=Math.floor(u%6e4/1e3);return`${g}h ${j}m ${a}s`},V=_(()=>{const s=[];if(!d.value)return s;const t=d.value;return s.push({type:"Clock In",start:t.clock_in||null,end:null,duration:"--",status:t.clock_in?"Completed":"Not started"}),(t.break_start||t.break_end)&&s.push({type:"Break",start:t.break_start||null,end:t.break_end||null,duration:t.break_start&&t.break_end?N(t.break_start,t.break_end):t.break_start?"In progress":"--",status:t.break_start&&t.break_end?"Completed":t.break_start?"Active":"Scheduled"}),(t.lunch_start||t.lunch_end)&&s.push({type:"Lunch",start:t.lunch_start||null,end:t.lunch_end||null,duration:t.lunch_start&&t.lunch_end?N(t.lunch_start,t.lunch_end):t.lunch_start?"In progress":"--",status:t.lunch_start&&t.lunch_end?"Completed":t.lunch_start?"Active":"Scheduled"}),t.clock_out&&s.push({type:"Clock Out",start:t.clock_out||null,end:null,duration:"--",status:t.clock_out?"Completed":"Pending"}),s});_t(()=>{B(),tt(),E(),P(),F=window.setInterval(()=>{D.value=new Date},1e3)}),kt(()=>{F&&window.clearInterval(F)});const B=async()=>{try{const s=await m.get("/time-entries/current");d.value=s.data,dt()}catch(s){d.value=null,C.value="No entry today",console.error("Error fetching current entry:",s)}},tt=async()=>{var s;try{const o=(((s=(await m.get("/admin/users")).data)==null?void 0:s.data)||[]).find(r=>(r==null?void 0:r.id)&&(r==null?void 0:r.email));o!=null&&o.role&&(b.value=o.role),b.value==="admin"&&(await U(),setInterval(()=>{U()},5e3))}catch{}},E=async()=>{try{const s=await m.get("/my/tasks");R.value=s.data}catch{}},H=async()=>{try{await ct()}catch{}},W=async()=>{try{await ut()}catch{}},J=async()=>{try{await xt()}catch{}},z=async()=>{try{await pt()}catch{}},P=async()=>{try{const s=await m.get("/tasks/today-entries");M.value=s.data||[];const t=(M.value||[]).find(o=>o.clock_in&&!o.clock_out);x.value=t?t.task_id:null}catch{M.value=[]}},K=async s=>{try{const t=await m.get(`/tasks/${s}/sync`);f.value=t.data,L.value=!0}catch{L.value=!1}},et=async()=>{if(v.value){await z();return}h.value?await W():await H()},st=async()=>{if(x.value){alert("Pause or stop the running task first.");return}v.value?await z():(h.value||await H(),await J())},$=s=>s<10?`0${s}`:`${s}`,at=_(()=>{var s,t;return v.value&&((s=d.value)!=null&&s.break_start)?new Date(d.value.break_start):h.value&&((t=d.value)!=null&&t.clock_in)?new Date(d.value.clock_in):null}),ot=_(()=>{const s=M.value.find(t=>t.clock_in&&!t.clock_out);return s?new Date(s.clock_in):null}),nt=_(()=>{const s=at.value;if(!s)return"00:00:00";const t=D.value.getTime()-s.getTime(),o=Math.max(0,Math.floor(t/1e3)),r=Math.floor(o/3600),u=Math.floor(o%3600/60),g=o%60;return`${$(r)}:${$(u)}:${$(g)}`}),lt=_(()=>{const s=ot.value;if(!s)return"00:00:00";const t=D.value.getTime()-s.getTime(),o=Math.max(0,Math.floor(t/1e3)),r=Math.floor(o/3600),u=Math.floor(o%3600/60),g=o%60;return`${$(r)}:${$(u)}:${$(g)}`}),it=_(()=>{const s=d.value;if(!s||!s.clock_in)return 0;const t=new Date(s.clock_in),o=s.clock_out?new Date(s.clock_out):D.value;let r=Math.max(0,Math.floor((o.getTime()-t.getTime())/6e4));if(s.break_start&&s.break_end){const u=new Date(s.break_start),g=new Date(s.break_end);r-=Math.max(0,Math.floor((g.getTime()-u.getTime())/6e4))}else if(s.break_start&&!s.break_end){const u=new Date(s.break_start);r-=Math.max(0,Math.floor((D.value.getTime()-u.getTime())/6e4))}if(s.lunch_start&&s.lunch_end){const u=new Date(s.lunch_start),g=new Date(s.lunch_end);r-=Math.max(0,Math.floor((g.getTime()-u.getTime())/6e4))}else if(s.lunch_start&&!s.lunch_end){const u=new Date(s.lunch_start);r-=Math.max(0,Math.floor((D.value.getTime()-u.getTime())/6e4))}return(Math.max(0,r)/60).toFixed(2)}),rt=async()=>{try{S.value=!0,G.value=[d.value].filter(Boolean)}catch{S.value=!0,G.value=[]}},dt=()=>{!d.value||!d.value.clock_in?C.value="Not clocked in":d.value.clock_out?C.value="Clocked out":Z.value?C.value="On lunch":v.value?C.value="On break":C.value="Clocked in"},ct=async s=>{var t,o;c.value=!0;try{const r={};await m.post("/time-entries/clock-in",r),await B(),await E()}catch(r){alert(((o=(t=r.response)==null?void 0:t.data)==null?void 0:o.message)||"Error clocking in")}finally{c.value=!1}},ut=async()=>{var s,t;c.value=!0;try{if(x.value){alert("Pause or stop the running task first."),c.value=!1;return}await m.post("/time-entries/clock-out"),await B(),await E()}catch(o){alert(((t=(s=o.response)==null?void 0:s.data)==null?void 0:t.message)||"Error clocking out")}finally{c.value=!1}},xt=async()=>{var s,t;c.value=!0;try{await m.post("/time-entries/break-start"),await B(),await E()}catch(o){alert(((t=(s=o.response)==null?void 0:s.data)==null?void 0:t.message)||"Error starting break")}finally{c.value=!1}},pt=async()=>{var s,t;c.value=!0;try{await m.post("/time-entries/break-end"),await B(),await E()}catch(o){alert(((t=(s=o.response)==null?void 0:s.data)==null?void 0:t.message)||"Error ending break")}finally{c.value=!1}},Q=async s=>{var t,o;if(!h.value){alert("Please Time In first before starting a task.");return}if(v.value&&await z(),x.value&&x.value!==s)try{await m.post("/tasks/stop")}catch{}try{await m.post("/tasks/start",{task_id:s}),x.value=s,await P()}catch(r){alert(((o=(t=r==null?void 0:r.response)==null?void 0:t.data)==null?void 0:o.message)||"Failed to start task")}},yt=async()=>{try{await m.post("/tasks/stop")}catch{}x.value=null,await P()},mt=async()=>{if(h.value){try{await m.post("/tasks/stop")}catch{await W()}x.value=null,await P()}};return(s,t)=>(l(),n(T,null,[X(ft(wt),{title:"Dashboard"}),X(ht,null,{header:Y(()=>[...t[4]||(t[4]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Time Tracker Dashboard ",-1)])]),default:Y(()=>{var o,r,u,g,j;return[e("div",Tt,[e("div",Ct,[b.value!=="admin"?(l(),n("div",Dt,[e("div",Mt,[e("div",$t,[t[5]||(t[5]=e("h3",{class:"text-xs font-semibold uppercase tracking-wide text-gray-500"},"Work Day Timer",-1)),e("p",It,i(nt.value),1),e("p",Bt,i(v.value?"On Break":h.value?"Working":"Idle"),1),e("div",Et,[e("button",{onClick:et,disabled:c.value,class:q(["rounded-md px-3 py-1.5 text-xs font-semibold text-white",h.value?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"])},i(h.value?"Time Out":"Time In"),11,St),e("button",{onClick:st,disabled:c.value,class:q(["rounded-md px-3 py-1.5 text-xs font-semibold text-white",v.value?"bg-orange-600 hover:bg-orange-700":"bg-yellow-600 hover:bg-yellow-700"])},i(v.value?"Break Out":"Break In"),11,Lt)])])]),e("div",Ot,[e("div",At,[t[6]||(t[6]=e("h3",{class:"text-xs font-semibold uppercase tracking-wide text-gray-500"},"Running Task",-1)),x.value?(l(),n("div",Nt,[e("button",{onClick:t[0]||(t[0]=a=>K(x.value)),class:"text-indigo-600 hover:underline text-sm"},i(((o=R.value.find(a=>a.id===x.value))==null?void 0:o.title)||"#"+x.value),1),e("p",zt,i(lt.value),1)])):(l(),n("div",Pt,"No task running"))])]),e("div",jt,[e("div",Rt,[t[9]||(t[9]=e("h3",{class:"text-xs font-semibold uppercase tracking-wide text-gray-500"},"Daily Logs",-1)),e("p",Ut,[bt(i(it.value),1),t[7]||(t[7]=e("span",{class:"text-sm font-normal text-gray-500"}," / 8 Hours",-1))]),e("div",{class:"mt-4 flex space-x-2"},[e("button",{onClick:rt,class:"rounded-md bg-indigo-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-indigo-700"},"Daily Logs"),t[8]||(t[8]=e("button",{class:"rounded-md bg-yellow-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-yellow-600"},"Send Report",-1))])])])])):k("",!0),b.value==="admin"?(l(),n("div",Ft,[e("div",Vt,[e("div",Ht,[t[10]||(t[10]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Real-Time Activity Log",-1)),e("button",{onClick:U,disabled:A.value,class:"rounded-md bg-indigo-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-indigo-500"},"Refresh",8,Wt)]),e("div",qt,[e("table",Gt,[t[12]||(t[12]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"User"),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Action"),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Description"),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Time")])],-1)),e("tbody",Jt,[(l(!0),n(T,null,I(O.value,a=>{var y;return l(),n("tr",{key:a.id},[e("td",Kt,i(((y=a.user)==null?void 0:y.name)||"Unknown"),1),e("td",Qt,i(a.action),1),e("td",Xt,i(a.description),1),e("td",Yt,i(new Date(a.created_at).toLocaleString()),1)])}),128)),O.value.length===0&&!A.value?(l(),n("tr",Zt,[...t[11]||(t[11]=[e("td",{colspan:"4",class:"px-4 py-4 text-center text-sm text-gray-500"},"No activity logs found",-1)])])):k("",!0)])])])])])):k("",!0),b.value!=="admin"?(l(),n("div",te,[e("div",ee,[t[16]||(t[16]=e("div",{class:"flex items-center justify-between mb-3"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"My Tasks")],-1)),e("div",se,[e("table",ae,[t[15]||(t[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Task"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Actions")])],-1)),e("tbody",oe,[(l(!0),n(T,null,I(R.value,a=>(l(),n("tr",{key:a.id},[e("td",ne,[e("button",{onClick:y=>K(a.id),class:"hover:underline"},i(a.title),9,le)]),e("td",ie,[e("div",re,[e("button",{onClick:y=>x.value===a.id?yt():Q(a.id),disabled:c.value,class:q(["rounded-full p-2 text-white",x.value===a.id?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700"]),"aria-label":x.value===a.id?"Pause":"Play"},[x.value!==a.id?(l(),n("svg",ce,[...t[13]||(t[13]=[e("path",{d:"M8 5v14l11-7z"},null,-1)])])):(l(),n("svg",ue,[...t[14]||(t[14]=[e("path",{d:"M6 5h4v14H6zM14 5h4v14h-4z"},null,-1)])]))],10,de)])])]))),128))])])])])])):k("",!0),e("div",xe,[e("div",pe,[t[18]||(t[18]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"},"Today's Time Events",-1)),V.value.length===0?(l(),n("div",ye," No time entries recorded today. Clock in to start tracking time. ")):(l(),n("div",me,[e("table",ge,[t[17]||(t[17]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Event Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Start Time "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," End Time "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Duration "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Status ")])],-1)),e("tbody",he,[(l(!0),n(T,null,I(V.value,(a,y)=>(l(),n("tr",{key:y},[e("td",ve,i(a.type),1),e("td",_e,i(w(a.start)),1),e("td",ke,i(w(a.end)),1),e("td",fe,i(a.duration),1),e("td",we,[b.value!=="admin"?(l(),n("div",be,[e("button",{onClick:H,disabled:c.value||h.value,class:"rounded-md bg-green-600 px-2 py-1 text-xs font-semibold text-white hover:bg-green-700"},"Time In",8,Te),e("button",{onClick:J,disabled:c.value||!h.value||v.value,class:"rounded-md bg-yellow-600 px-2 py-1 text-xs font-semibold text-white hover:bg-yellow-700"},"Break In",8,Ce),e("button",{onClick:z,disabled:c.value||!v.value,class:"rounded-md bg-orange-600 px-2 py-1 text-xs font-semibold text-white hover:bg-orange-700"},"Break Out",8,De),e("button",{onClick:W,disabled:c.value||!h.value,class:"rounded-md bg-red-600 px-2 py-1 text-xs font-semibold text-white hover:bg-red-700"},"Time Out",8,Me)])):(l(),n("span",$e,"Admin view"))])]))),128)),(l(!0),n(T,null,I(M.value,a=>{var y;return l(),n("tr",{key:`task-${a.id}`},[e("td",Ie," Task: "+i(((y=a.task)==null?void 0:y.title)||`#${a.task_id}`),1),e("td",Be,i(w(a.clock_in)),1),e("td",Ee,i(w(a.clock_out)),1),e("td",Se,i(a.clock_in&&a.clock_out?N(a.clock_in,a.clock_out):a.clock_in?"In progress":"--"),1),e("td",Le,[b.value!=="admin"?(l(),n("div",Oe,[e("button",{onClick:gt=>Q(a.task_id),disabled:c.value,class:"rounded-md bg-green-600 px-2 py-1 text-xs font-semibold text-white hover:bg-green-700"},"Play",8,Ae),e("button",{onClick:t[1]||(t[1]=gt=>mt()),disabled:c.value,class:"rounded-md bg-red-600 px-2 py-1 text-xs font-semibold text-white hover:bg-red-700"},"Stop",8,Ne)])):(l(),n("span",ze,"Admin view"))])])}),128))])])]))])])]),S.value?(l(),n("div",Pe,[e("div",je,[e("div",Re,[t[19]||(t[19]=e("h4",{class:"text-md font-semibold"},"Daily Logs",-1)),e("button",{onClick:t[2]||(t[2]=a=>S.value=!1),class:"rounded-md bg-gray-100 px-2 py-1 text-xs"},"Close")]),e("div",Ue,[d.value?(l(),n("div",Ve,[e("table",He,[t[20]||(t[20]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Event"),e("th",{class:"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Start Time"),e("th",{class:"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"End Time"),e("th",{class:"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Duration")])],-1)),e("tbody",We,[(l(!0),n(T,null,I(V.value,(a,y)=>(l(),n("tr",{key:y},[e("td",qe,i(a.type),1),e("td",Ge,i(w(a.start)),1),e("td",Je,i(w(a.end)),1),e("td",Ke,i(a.duration),1)]))),128)),(l(!0),n(T,null,I(M.value,a=>{var y;return l(),n("tr",{key:`modal-task-${a.id}`},[e("td",Qe,"Task: "+i(((y=a.task)==null?void 0:y.title)||`#${a.task_id}`),1),e("td",Xe,i(w(a.clock_in)),1),e("td",Ye,i(w(a.clock_out)),1),e("td",Ze,i(a.clock_in&&a.clock_out?N(a.clock_in,a.clock_out):a.clock_in?"In progress":"--"),1)])}),128))])])])):(l(),n("div",Fe,"No entry today."))])])])):k("",!0),L.value?(l(),n("div",ts,[e("div",es,[e("div",ss,[t[21]||(t[21]=e("h4",{class:"text-md font-semibold"},"Task Details",-1)),e("button",{onClick:t[3]||(t[3]=a=>L.value=!1),class:"rounded-md bg-gray-100 px-2 py-1 text-xs"},"Close")]),f.value?(l(),n("div",as,[e("p",os,i((r=f.value.task)==null?void 0:r.title),1),e("p",ns,"Status: "+i((u=f.value.task)==null?void 0:u.status),1),(g=f.value.clickup)!=null&&g.url?(l(),n("p",ls,[e("a",{href:f.value.clickup.url,target:"_blank",class:"text-indigo-600 hover:underline"},"Open in ClickUp",8,is)])):k("",!0),(j=f.value.clickup)!=null&&j.text_content?(l(),n("div",rs,i(f.value.clickup.text_content),1)):k("",!0)])):k("",!0)])])):k("",!0)])]}),_:1})],64))}});export{ps as default};
