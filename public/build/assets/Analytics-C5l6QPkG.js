import{d as kt,r as c,c as K,o as wt,w as W,a as l,b as ct,u as St,h as Tt,e as ut,f as t,n as M,g as i,i as k,t as n,j as X,F as S,k as L,l as Y,v as mt,m as Dt}from"./app-Bg1g1a2t.js";import{_ as Ut}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-CR1wC4p6.js";import{a as F}from"./api-JubJnuzD.js";const Ct={class:"py-12"},Mt={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Lt={class:"border-b border-gray-200 mb-6"},Nt={class:"-mb-px flex space-x-8"},$t={key:0,class:"space-y-8"},At={class:"space-y-6"},Et={class:"flex flex-wrap items-center justify-between gap-3"},Ht={key:0,class:"text-sm text-gray-500"},Bt={class:"flex items-center gap-2"},Pt=["disabled"],Rt={key:0,class:"h-3 w-3 animate-spin rounded-full border-2 border-indigo-500 border-t-transparent"},Wt={key:0,class:"bg-white shadow rounded-lg p-10 text-center text-sm text-gray-500"},Ft={key:1,class:"bg-red-50 border border-red-200 text-red-700 rounded-lg p-6 flex flex-col gap-4"},It={class:"text-sm"},Vt={key:2,class:"space-y-8"},jt={class:"grid gap-4 md:grid-cols-2 xl:grid-cols-3"},Ot={class:"text-sm font-semibold uppercase tracking-wide text-gray-500"},qt={class:"mt-2 text-3xl font-bold"},Zt={class:"mt-2 text-sm text-gray-600"},zt={class:"grid gap-6 lg:grid-cols-2"},Gt={class:"rounded-xl bg-white shadow-sm"},Qt={class:"border-b border-gray-100 px-5 py-4"},Jt={class:"text-sm text-gray-500"},Kt={key:0,class:"divide-y divide-gray-100"},Xt={class:"font-medium text-gray-900"},Yt={class:"text-sm text-gray-500"},te={key:0,class:"ml-1 text-gray-400"},ee={class:"text-right"},se={class:"text-sm font-semibold text-indigo-600"},ae={class:"text-xs text-gray-500"},oe={key:1,class:"px-5 py-6 text-sm text-gray-500"},ne={class:"rounded-xl bg-white shadow-sm"},le={class:"space-y-4 px-5 py-6"},ie={class:"text-sm font-medium text-gray-600"},re={class:"text-sm font-semibold text-gray-900 text-right"},de={key:1,class:"space-y-6"},ce={class:"bg-white shadow rounded-lg p-4"},ue={class:"grid gap-4 sm:grid-cols-3"},me=["value"],ve={class:"flex items-end gap-2"},ge=["disabled"],xe=["disabled"],pe={class:"bg-white shadow rounded-lg p-5"},ye={class:"grid gap-4 sm:grid-cols-3 lg:grid-cols-5 text-sm"},be={class:"font-semibold"},he={class:"font-semibold"},fe={class:"font-semibold"},_e={class:"font-semibold"},ke={class:"bg-white shadow rounded-lg"},we={class:"overflow-x-auto"},Se={class:"min-w-full divide-y divide-gray-200"},Te={class:"divide-y divide-gray-200"},De={class:"px-4 py-4 text-sm text-gray-900"},Ue={class:"px-4 py-4 text-sm text-gray-500"},Ce={class:"px-4 py-4 text-sm text-gray-500"},Me={class:"px-4 py-4 text-sm text-gray-900 font-semibold"},Le={class:"px-4 py-4 text-sm text-gray-500"},Ne={class:"px-4 py-4 text-sm text-gray-500"},$e={key:0},Ae={key:0,class:"text-center py-8"},Ee={key:2,class:"space-y-6"},He={class:"bg-white shadow rounded-lg p-4"},Be={class:"flex justify-between items-center mb-4"},Pe={class:"flex items-center gap-2"},Re={class:"grid gap-4 sm:grid-cols-2"},We={class:"bg-white shadow rounded-lg"},Fe={class:"overflow-x-auto"},Ie={class:"min-w-full divide-y divide-gray-200"},Ve={class:"divide-y divide-gray-200 bg-white"},je={class:"px-4 py-4 whitespace-nowrap"},Oe={class:"flex items-center"},qe={class:"flex-shrink-0 h-10 w-10"},Ze={class:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center"},ze={class:"text-indigo-600 font-medium"},Ge={class:"ml-4"},Qe={class:"text-sm font-medium text-gray-900"},Je={class:"text-sm text-gray-500"},Ke={class:"px-4 py-4 whitespace-nowrap"},Xe={class:"px-4 py-4"},Ye={class:"text-sm text-gray-900"},ts={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},es={class:"text-xs text-gray-400"},ss={key:0},as={key:0,class:"text-center py-8"},os="Asia/Manila",ds=kt({__name:"Analytics",setup(ns){const u=c(null),I=c(!0),H=c(null),N=c(!1),V=async()=>{var a,e;try{H.value=null;const{data:s}=await F.get("/admin/analytics/summary");u.value=s}catch(s){console.error(s),H.value=((e=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:e.error)||"Unable to load analytics summary.",u.value=null}finally{I.value=!1,N.value=!1}},tt=async()=>{N.value=!0,await V()},j=a=>`${a.toFixed(2)} h`,$=a=>a.toLocaleString(),O=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),et=a=>new Date(a).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),vt=a=>{if(a===null)return"--";const e=Math.floor(a/60),s=a%60;return e===0?`${s}m`:`${e}h ${s}m`},gt=a=>a?new Date(a).toLocaleString("en-US",{hour:"numeric",minute:"2-digit"}):"--",xt=K(()=>{if(!u.value)return[];const a=u.value.totals;return[{title:"Hours Logged Today",value:j(a.hours_today),subtitle:"Completed work hours",accent:"border-blue-500 bg-blue-50 text-blue-700"},{title:"Hours Logged This Week",value:j(a.hours_week),subtitle:"Monâ€“Sun total",accent:"border-indigo-500 bg-indigo-50 text-indigo-700"},{title:"Active Users Today",value:$(a.active_users_today),subtitle:"Unique employees with activity",accent:"border-emerald-500 bg-emerald-50 text-emerald-700"},{title:"Active Users This Week",value:$(a.active_users_week),subtitle:"Unique employees this week",accent:"border-teal-500 bg-teal-50 text-teal-700"},{title:"Avg Hours / User (Week)",value:j(a.average_hours_per_user_week),subtitle:"Hours per active user",accent:"border-purple-500 bg-purple-50 text-purple-700"},{title:"Open Clock-ins",value:$(a.open_entries),subtitle:"Users still on the clock",accent:"border-amber-500 bg-amber-50 text-amber-700"}]}),pt=K(()=>{if(!u.value)return[];const a=u.value.totals;return[{label:"Late clock-ins today",value:$(a.late_clock_ins_today)},{label:"Completed entries today",value:$(a.total_entries_today)},{label:"Week window",value:`${O(u.value.dates.week_start)} â†’ ${O(u.value.dates.week_end)}`},{label:"Report generated",value:et(u.value.generated_at)}]}),st=K(()=>{var a;return(((a=u.value)==null?void 0:a.open_entries.length)??0)>0}),g=c("overview"),d=c(null),p=c(""),T=c([]),at=c([]),B=c(!1),x=c([]),y=c({workSeconds:0,breakSeconds:0,lunchSeconds:0,tasksCount:0,status:"No Entry",overtimeSeconds:0});c([]);const q=c([]),P=c(!1),A=c(""),yt=c(Date.now()),E=a=>{const e=typeof a=="number"&&isFinite(a)?Math.max(0,Math.floor(a)):0,s=Math.floor(e/3600),v=Math.floor(e%3600/60),b=e%60,m=h=>h<10?`0${h}`:`${h}`;return`${m(s)}:${m(v)}:${m(b)}`},Z=a=>{if(!a)return"--";try{const s=new Date(a);if(!isNaN(s.getTime()))return s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:os})}catch{}const e=a.match(/\b(\d{1,2}):(\d{2})(?::(\d{2}))?/);if(e){let s=parseInt(e[1],10);const v=e[2],b=s>=12?"PM":"AM";return s=s%12,s===0&&(s=12),`${s}:${v} ${b}`}return"--"},D=a=>{if(!a)return null;const e=a.match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})(?::(\d{2}))?/);if(e){const b=Number(e[1]),m=Number(e[2])-1,h=Number(e[3]),G=Number(e[4]),Q=Number(e[5]),J=Number(e[6]||"0");return new Date(Date.UTC(b,m,h,G-8,Q,J))}const s=a.includes("T")?a:a.replace(" ","T"),v=new Date(s);return isNaN(v.getTime())?null:v},bt=async()=>{try{const a=await F.get("/admin/analytics/users");T.value=a.data,!d.value&&T.value.length>0&&(d.value=T.value[0].id)}catch(a){console.error("Error loading users:",a)}},z=async()=>{var a;if(d.value){B.value=!0;try{const e=await F.get(`/admin/analytics/user/${d.value}`,{params:{start_date:p.value,end_date:p.value}}),s=((a=e.data)==null?void 0:a.entries)||e.data||[];at.value=s,x.value=[];let v=0,b=0,m=null;s.forEach(o=>{var nt,lt,it,rt;if(o.entry_type==="break"||o.is_break){const _=D(o.clock_in),w=D(o.clock_out);if(_&&w){const C=Math.max(0,Math.floor((w.getTime()-_.getTime())/1e3));b+=C,x.value.push({name:"Break",start:o.clock_in_formatted||o.clock_in,end:o.clock_out_formatted||o.clock_out,durationSeconds:C,breakDurationSeconds:C,notes:"-"})}return}const r=D(o.clock_in),f=D(o.clock_out);r&&(!m||r<m)&&(m=r);const U=!!o.task&&(o.task.title||o.task.name);if(r&&f&&!U){const _=Math.max(0,Math.floor((f.getTime()-r.getTime())/1e3));v+=_;const w=D(o.lunch_start),C=D(o.lunch_end);let dt=0;w&&C&&(dt=Math.max(0,Math.floor((C.getTime()-w.getTime())/1e3)));const _t=Math.max(0,_-dt);x.value.push({name:"Work Hours",start:o.clock_in_formatted||o.clock_in,end:o.clock_out_formatted||o.clock_out,durationSeconds:_t,breakDurationSeconds:0,notes:"-"})}if(U&&r&&f){const _=Math.max(0,Math.floor((f.getTime()-r.getTime())/1e3));x.value.push({name:((nt=o.task)==null?void 0:nt.title)||((lt=o.task)==null?void 0:lt.name)||"Task",start:o.clock_in_formatted||o.clock_in,end:o.clock_out_formatted||o.clock_out,durationSeconds:_,breakDurationSeconds:0,notes:"-"})}else if(U&&r&&!f){const w=Math.max(0,Math.floor((new Date().getTime()-r.getTime())/1e3));x.value.push({name:((it=o.task)==null?void 0:it.title)||((rt=o.task)==null?void 0:rt.name)||"Task",start:o.clock_in_formatted||o.clock_in,end:null,durationSeconds:w,breakDurationSeconds:0,notes:"In progress"})}}),x.value.sort((o,r)=>{const f=new Date(o.start??"").getTime(),U=new Date(r.start??"").getTime();return(isNaN(U)?0:U)-(isNaN(f)?0:f)});const h=x.value.filter(o=>o.name==="Work Hours").reduce((o,r)=>o+(r.durationSeconds||0),0),G=x.value.filter(o=>o.name==="Break").reduce((o,r)=>o+(r.durationSeconds||0),0),Q=8*3600,J=Math.max(0,h-Q);let ot="No Entry";if(m){const o=m,r=(o.getUTCHours()+8)%24,f=o.getUTCMinutes();ot=r<8||r===8&&f<=30?"Perfect":"Late"}y.value={workSeconds:h,breakSeconds:G,lunchSeconds:0,tasksCount:x.value.length,status:ot,overtimeSeconds:J}}catch(e){console.error("Error loading user daily analytics",e),at.value=[],y.value={workSeconds:0,breakSeconds:0,lunchSeconds:0,tasksCount:0,status:"No Entry",overtimeSeconds:0}}finally{B.value=!1}}},R=async(a=!1)=>{a||(P.value=!0);try{const e={limit:100};A.value&&(e.action=A.value);const s=await F.get("/admin/analytics/activity-logs",{params:e});q.value=s.data.data,yt.value=Date.now()}catch(e){console.error("Error loading activity logs:",e),a||alert("Failed to load activity logs")}finally{P.value=!1}},ht=()=>{if(!d.value){alert("Please select a user first");return}const a=new URLSearchParams({user_id:String(d.value),start_date:p.value,end_date:p.value});window.location.href=`/api/admin/analytics/user-summary/export/csv?${a.toString()}`},ft=()=>{if(!d.value){alert("Please select a user first");return}const a=new URLSearchParams({user_id:String(d.value),start_date:p.value,end_date:p.value});window.location.href=`/api/admin/analytics/user-summary/export/pdf?${a.toString()}`};return wt(()=>{const a=new Date;p.value=a.toISOString().split("T")[0],bt(),R(),V()}),W(g,a=>{a==="overview"?V():a==="summary"?(!d.value&&T.value.length>0&&(d.value=T.value[0].id),d.value&&z()):a==="activity"&&R(!0)}),W(d,a=>{g.value==="summary"&&a&&z()}),W(p,()=>{g.value==="summary"&&d.value&&z()}),W(A,()=>{g.value==="activity"&&R(!0)}),(a,e)=>(i(),l(S,null,[ct(St(Tt),{title:"Analytics"}),ct(Ut,null,{header:ut(()=>[...e[7]||(e[7]=[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Analytics & Reports ",-1)])]),default:ut(()=>[t("div",Ct,[t("div",Mt,[t("div",Lt,[t("nav",Nt,[t("button",{onClick:e[0]||(e[0]=s=>g.value="overview"),class:M(["whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium",g.value==="overview"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"])}," Overview ",2),t("button",{onClick:e[1]||(e[1]=s=>g.value="summary"),class:M(["whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium",g.value==="summary"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"])}," User Summary ",2),t("button",{onClick:e[2]||(e[2]=s=>g.value="activity"),class:M(["whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium",g.value==="activity"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"])}," Activity Log ",2)])]),g.value==="overview"?(i(),l("div",$t,[t("section",At,[t("div",Et,[t("div",null,[e[8]||(e[8]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Company Health Overview",-1)),u.value?(i(),l("p",Ht," As of "+n(et(u.value.generated_at)),1)):k("",!0)]),t("div",Bt,[t("button",{type:"button",onClick:tt,disabled:N.value||I.value,class:"inline-flex items-center gap-2 rounded-md border border-indigo-200 bg-white px-4 py-2 text-sm font-medium text-indigo-600 shadow-sm transition hover:bg-indigo-50 disabled:cursor-not-allowed disabled:border-gray-200 disabled:text-gray-400"},[N.value?(i(),l("span",Rt)):k("",!0),t("span",null,n(N.value?"Refreshingâ€¦":"Refresh"),1)],8,Pt)])]),I.value?(i(),l("div",Wt,[...e[9]||(e[9]=[t("div",{class:"mx-auto mb-3 h-8 w-8 animate-spin rounded-full border-b-2 border-indigo-600"},null,-1),X(" Loading analytics summaryâ€¦ ",-1)])])):H.value?(i(),l("div",Ft,[t("div",null,[e[10]||(e[10]=t("h4",{class:"font-semibold text-red-800"},"We couldnâ€™t load the analytics overview.",-1)),t("p",It,n(H.value),1)]),t("div",null,[t("button",{type:"button",onClick:tt,class:"inline-flex items-center rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-red-500"}," Try again ")])])):u.value?(i(),l("div",Vt,[t("div",jt,[(i(!0),l(S,null,L(xt.value,s=>(i(),l("div",{key:s.title,class:M(["rounded-xl border bg-white p-6 shadow-sm transition hover:-translate-y-1 hover:shadow-md",s.accent])},[t("h4",Ot,n(s.title),1),t("p",qt,n(s.value),1),t("p",Zt,n(s.subtitle),1)],2))),128))]),t("div",zt,[t("div",Gt,[t("div",Qt,[e[11]||(e[11]=t("h4",{class:"text-base font-semibold text-gray-800"},"Whoâ€™s still on the clock",-1)),t("p",Jt,n(st.value?"Top 10 current sessions":"No one is clocked in right now."),1)]),st.value?(i(),l("div",Kt,[(i(!0),l(S,null,L(u.value.open_entries,s=>(i(),l("div",{key:s.entry_id,class:"flex items-center justify-between gap-3 px-5 py-4"},[t("div",null,[t("p",Xt,n(s.user.name||"Unknown User"),1),t("p",Yt,[X(n(s.user.email||"No email listed")+" ",1),s.user.team?(i(),l("span",te,"Â· "+n(s.user.team),1)):k("",!0)])]),t("div",ee,[t("p",se,n(vt(s.minutes_running)),1),t("p",ae,"since "+n(gt(s.clock_in)),1)])]))),128))])):(i(),l("div",oe," All clocks are cleared for today. Great job! "))]),t("div",ne,[e[12]||(e[12]=t("div",{class:"border-b border-gray-100 px-5 py-4"},[t("h4",{class:"text-base font-semibold text-gray-800"},"At a glance"),t("p",{class:"text-sm text-gray-500"},"Quick context for today and the week.")],-1)),t("dl",le,[(i(!0),l(S,null,L(pt.value,s=>(i(),l("div",{key:s.label,class:"flex items-center justify-between gap-4"},[t("dt",ie,n(s.label),1),t("dd",re,n(s.value),1)]))),128))])])])])):k("",!0)])])):g.value==="summary"?(i(),l("div",de,[t("div",ce,[t("div",ue,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"User",-1)),Y(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>d.value=s),class:"w-full rounded-md border-gray-300 shadow-sm"},[e[13]||(e[13]=t("option",{value:null},"Select User",-1)),(i(!0),l(S,null,L(T.value,s=>(i(),l("option",{key:s.id,value:s.id},n(s.name),9,me))),128))],512),[[mt,d.value]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),Y(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>p.value=s),type:"date",class:"w-full rounded-md border-gray-300 shadow-sm"},null,512),[[Dt,p.value]])]),t("div",ve,[t("button",{onClick:ht,disabled:!d.value,class:"flex-1 rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Export CSV ",8,ge),t("button",{onClick:ft,disabled:!d.value,class:"flex-1 rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Export PDF ",8,xe)])])]),t("div",pe,[e[21]||(e[21]=t("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"},"Daily Summary",-1)),t("div",ye,[t("div",null,[e[16]||(e[16]=t("div",{class:"text-gray-500"},"ðŸ•’ Time In Hours",-1)),t("div",be,n(E(y.value.workSeconds)),1)]),t("div",null,[e[17]||(e[17]=t("div",{class:"text-gray-500"},"â˜• Total Breaks",-1)),t("div",he,n(E(y.value.breakSeconds)),1)]),t("div",null,[e[18]||(e[18]=t("div",{class:"text-gray-500"},"ðŸ“‹ Entries",-1)),t("div",fe,n(y.value.tasksCount),1)]),t("div",null,[e[19]||(e[19]=t("div",{class:"text-gray-500"},"â° Status",-1)),t("div",{class:M(["font-semibold",{"text-green-700":y.value.status==="Perfect","text-yellow-700":y.value.status==="Late","text-gray-700":y.value.status==="No Entry"}])},n(y.value.status),3)]),t("div",null,[e[20]||(e[20]=t("div",{class:"text-gray-500"},"âš¡ Overtime",-1)),t("div",_e,n(E(y.value.overtimeSeconds)),1)])])]),t("div",ke,[t("div",we,[t("table",Se,[e[23]||(e[23]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Task"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Start Time"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"End Time"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Duration"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Break Duration"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Notes")])],-1)),t("tbody",Te,[(i(!0),l(S,null,L(x.value,(s,v)=>(i(),l("tr",{key:v},[t("td",De,n(s.name),1),t("td",Ue,n(Z(s.start)),1),t("td",Ce,n(Z(s.end)),1),t("td",Me,n(E(s.durationSeconds)),1),t("td",Le,n(E(s.breakDurationSeconds||0)),1),t("td",Ne,n(s.notes||"-"),1)]))),128)),x.value.length===0&&!B.value?(i(),l("tr",$e,[...e[22]||(e[22]=[t("td",{colspan:"6",class:"px-4 py-4 text-center text-sm text-gray-500"},"No entries for selected day",-1)])])):k("",!0)])])]),B.value?(i(),l("div",Ae,[...e[24]||(e[24]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1),t("p",{class:"mt-2 text-sm text-gray-500"},"Loading...",-1)])])):k("",!0)])])):(i(),l("div",Ee,[t("div",He,[t("div",Be,[e[26]||(e[26]=t("h3",{class:"text-lg font-medium text-gray-900"},"Real-Time Activity Log",-1)),t("div",Pe,[e[25]||(e[25]=t("div",{class:"flex items-center gap-2 text-sm text-gray-600"},[t("span",{class:"inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t("span",null,"Live Updates")],-1)),t("button",{onClick:e[5]||(e[5]=s=>R()),class:"rounded-md bg-indigo-600 px-3 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-indigo-500"}," Refresh ")])]),t("div",Re,[t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Filter by Action",-1)),Y(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>A.value=s),class:"w-full rounded-md border-gray-300 shadow-sm"},[...e[27]||(e[27]=[t("option",{value:""},"All Actions",-1),t("option",{value:"clock_in"},"Clock In",-1),t("option",{value:"clock_out"},"Clock Out",-1),t("option",{value:"break_start"},"Break Start",-1),t("option",{value:"break_end"},"Break End",-1),t("option",{value:"lunch_start"},"Lunch Start",-1),t("option",{value:"lunch_end"},"Lunch End",-1)])],512),[[mt,A.value]])])])]),t("div",We,[t("div",Fe,[t("table",Ie,[e[30]||(e[30]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"User"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Action"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Description"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Time")])],-1)),t("tbody",Ve,[(i(!0),l(S,null,L(q.value,s=>{var v,b,m;return i(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",je,[t("div",Oe,[t("div",qe,[t("div",Ze,[t("span",ze,n((v=s.user)!=null&&v.name?s.user.name.charAt(0).toUpperCase():"?"),1)])]),t("div",Ge,[t("div",Qe,n(((b=s.user)==null?void 0:b.name)||"Unknown User"),1),t("div",Je,n((m=s.user)==null?void 0:m.email),1)])])]),t("td",Ke,[t("span",{class:M(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-green-100 text-green-800":s.action==="clock_in","bg-red-100 text-red-800":s.action==="clock_out","bg-yellow-100 text-yellow-800":s.action.includes("break"),"bg-blue-100 text-blue-800":s.action.includes("lunch")}])},n(s.action.replace("_"," ").replace(/\b\w/g,h=>h.toUpperCase())),3)]),t("td",Xe,[t("div",Ye,n(s.description),1)]),t("td",ts,[X(n(O(s.created_at))+" ",1),t("div",es,n(Z(s.created_at)),1)])])}),128)),q.value.length===0&&!P.value?(i(),l("tr",ss,[...e[29]||(e[29]=[t("td",{colspan:"4",class:"px-4 py-4 text-center text-sm text-gray-500"},"No activity logs found",-1)])])):k("",!0)])])]),P.value?(i(),l("div",as,[...e[31]||(e[31]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1),t("p",{class:"mt-2 text-sm text-gray-500"},"Loading...",-1)])])):k("",!0)])]))])])]),_:1})],64))}});export{ds as default};
