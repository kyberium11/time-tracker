import{d as et,r as i,o as st,c as l,a as Y,u as ot,h as at,w as q,b as t,e as x,n as A,f as n,g,v as T,t as a,F as _,i as C,j as W,k as lt}from"./app-BMWeQhLZ.js";import{_ as nt}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-Dp_zTYgW.js";import{a as D}from"./api-B3G2x6pp.js";const it={class:"py-12"},dt={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},rt={class:"border-b border-gray-200 mb-6"},ut={class:"-mb-px flex space-x-8"},ct={key:0,class:"space-y-6"},mt={class:"bg-white shadow rounded-lg p-4"},vt={class:"flex justify-between items-end gap-4"},xt={class:"flex-1"},pt={key:0,class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4"},gt={class:"bg-white overflow-hidden shadow rounded-lg"},ft={class:"p-5"},yt={class:"flex items-center"},ht={class:"ml-5 w-0 flex-1"},wt={class:"text-2xl font-semibold text-gray-900"},bt={class:"bg-white overflow-hidden shadow rounded-lg"},_t={class:"p-5"},kt={class:"flex items-center"},Mt={class:"ml-5 w-0 flex-1"},Tt={class:"text-2xl font-semibold text-gray-900"},Ct={class:"bg-white overflow-hidden shadow rounded-lg"},Dt={class:"p-5"},St={class:"flex items-center"},Ut={class:"ml-5 w-0 flex-1"},Lt={class:"text-2xl font-semibold text-gray-900"},$t={class:"bg-white overflow-hidden shadow rounded-lg"},Et={class:"p-5"},Nt={class:"flex items-center"},At={class:"ml-5 w-0 flex-1"},Ft={class:"text-2xl font-semibold text-gray-900"},Vt={key:1,class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},jt={class:"bg-white overflow-hidden shadow rounded-lg p-5"},Ht={class:"text-3xl font-semibold text-gray-900"},Pt={class:"bg-white overflow-hidden shadow rounded-lg p-5"},Bt={class:"text-3xl font-semibold text-gray-900"},zt={class:"bg-white overflow-hidden shadow rounded-lg p-5"},It={class:"text-3xl font-semibold text-gray-900"},Ot={key:2,class:"bg-white shadow rounded-lg"},Rt={class:"px-4 py-5 sm:p-6"},Yt={class:"min-w-full divide-y divide-gray-200"},qt={class:"divide-y divide-gray-200"},Wt={class:"px-4 py-4 text-sm text-gray-900"},Gt={class:"px-4 py-4 text-sm text-gray-500"},Jt={class:"px-4 py-4 text-sm text-gray-500"},Kt={key:3,class:"text-center py-12"},Qt={key:1,class:"space-y-6"},Xt={class:"bg-white shadow rounded-lg p-4"},Zt={class:"grid gap-4 sm:grid-cols-5"},te=["value"],ee=["value"],se={class:"bg-white shadow rounded-lg"},oe={class:"overflow-x-auto"},ae={class:"min-w-full divide-y divide-gray-200"},le={class:"divide-y divide-gray-200"},ne={class:"px-4 py-4 text-sm text-gray-900"},ie={class:"px-4 py-4 text-sm text-gray-500"},de={class:"px-4 py-4 text-sm text-gray-500"},re={class:"px-4 py-4 text-sm text-gray-500"},ue={class:"px-4 py-4 text-sm font-semibold text-gray-900"},ce={key:0},me={key:0,class:"text-center py-8"},ve={key:2,class:"space-y-6"},xe={class:"bg-white shadow rounded-lg p-4"},pe={class:"flex justify-between items-center mb-4"},ge={class:"flex items-center gap-2"},fe={class:"grid gap-4 sm:grid-cols-2"},ye={class:"bg-white shadow rounded-lg"},he={class:"overflow-x-auto"},we={class:"min-w-full divide-y divide-gray-200"},be={class:"divide-y divide-gray-200 bg-white"},_e={class:"px-4 py-4 whitespace-nowrap"},ke={class:"flex items-center"},Me={class:"flex-shrink-0 h-10 w-10"},Te={class:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center"},Ce={class:"text-indigo-600 font-medium"},De={class:"ml-4"},Se={class:"text-sm font-medium text-gray-900"},Ue={class:"text-sm text-gray-500"},Le={class:"px-4 py-4 whitespace-nowrap"},$e={class:"px-4 py-4"},Ee={class:"text-sm text-gray-900"},Ne={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},Ae={class:"text-xs text-gray-400"},Fe={key:0},Ve={key:0,class:"text-center py-8"},ze=et({__name:"Analytics",setup(je){const p=i("overview");i(!1);const k=i("month"),m=i(null),f=i(!1),S=i(null),U=i(null),y=i(""),h=i(""),L=i(""),H=i([]),P=i([]),F=i([]),$=i(!1);i([]);const V=i([]),E=i(!1),N=i(""),G=i(Date.now());st(()=>{const o=new Date,e=new Date(o.getFullYear(),o.getMonth(),1),s=new Date(o.getFullYear(),o.getMonth()+1,0);y.value=e.toISOString().split("T")[0],h.value=s.toISOString().split("T")[0],B(),J(),K(),w(),M(),setInterval(()=>{p.value==="activity"&&M(!0)},5e3)});const B=async()=>{f.value=!0;try{const o=await D.get("/admin/analytics/overview",{params:{period:k.value}});m.value=o.data}catch(o){console.error("Error loading overview:",o),alert("Failed to load overview data")}finally{f.value=!1}},J=async()=>{try{const o=await D.get("/admin/analytics/users");H.value=o.data}catch(o){console.error("Error loading users:",o)}},K=async()=>{try{const o=await D.get("/teams");P.value=o.data.data||o.data}catch(o){console.error("Error loading teams:",o)}},w=async()=>{$.value=!0;try{const o={start_date:y.value,end_date:h.value};S.value&&(o.user_id=S.value),U.value&&(o.team_id=U.value),L.value&&(o.status=L.value);const e=await D.get("/admin/analytics/individual-entries",{params:o});F.value=e.data.data}catch(o){console.error("Error loading entries:",o),alert("Failed to load entries")}finally{$.value=!1}},M=async(o=!1)=>{o||(E.value=!0);try{const e={limit:100};N.value&&(e.action=N.value);const s=await D.get("/admin/analytics/activity-logs",{params:e});V.value=s.data.data,G.value=Date.now()}catch(e){console.error("Error loading activity logs:",e),o||alert("Failed to load activity logs")}finally{E.value=!1}},z=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Q=o=>{if(!o)return"--";const e=o.match(/\b(\d{2}):(\d{2})(?::(\d{2}))?/);if(e){let s=parseInt(e[1],10);const d=e[2],u=s>=12?"PM":"AM";return s=s%12,s===0&&(s=12),`${s}:${d} ${u}`}try{const s=new Date(o);if(!isNaN(s.getTime()))return s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{}return"--"},j=o=>{if(typeof o=="string"&&/h\s+\d{2}m\s+\d{2}s/.test(o))return o;const e=Number(o);if(!isFinite(e))return"00h 00m 00s";const s=Math.round(e*3600),d=Math.floor(s/3600),u=Math.floor(s%3600/60),c=s%60,r=v=>v<10?`0${v}`:`${v}`;return`${r(d)}h ${r(u)}m ${r(c)}s`},I=o=>{const e=typeof o=="number"&&isFinite(o)?Math.max(0,Math.floor(o)):0,s=Math.floor(e/3600),d=Math.floor(e%3600/60),u=e%60,c=r=>r<10?`0${r}`:`${r}`;return`${c(s)}:${c(d)}:${c(u)}`},b=o=>{if(!o)return null;const e=o.match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})(?::(\d{2}))?/);if(e){const u=Number(e[1]),c=Number(e[2])-1,r=Number(e[3]),v=Number(e[4]),Z=Number(e[5]),tt=Number(e[6]||"0");return new Date(u,c,r,v,Z,tt)}const s=o.includes("T")?o:o.replace(" ","T"),d=new Date(s);return isNaN(d.getTime())?null:d},X=o=>{if(o.duration_hms_colon)return o.duration_hms_colon;if(typeof o.duration_seconds=="number")return I(o.duration_seconds);if(!o.clock_in||!o.clock_out)return"--";const e=b(o.clock_in),s=b(o.clock_out);if(!e||!s)return"00:00:00";let d=Math.max(0,Math.floor((s.getTime()-e.getTime())/1e3));const u=b(o.break_start||null),c=b(o.break_end||null);u&&c&&(d-=Math.max(0,Math.floor((c.getTime()-u.getTime())/1e3)));const r=b(o.lunch_start||null),v=b(o.lunch_end||null);return r&&v&&(d-=Math.max(0,Math.floor((v.getTime()-r.getTime())/1e3))),I(Math.max(0,d))},O=()=>{const o=new URLSearchParams({period:k.value,start_date:y.value,end_date:h.value});window.location.href=`/api/admin/analytics/export/csv?${o.toString()}`},R=()=>{const o=new URLSearchParams({period:k.value,start_date:y.value,end_date:h.value});window.location.href=`/api/admin/analytics/export/pdf?${o.toString()}`};return(o,e)=>(n(),l(_,null,[Y(ot(at),{title:"Analytics"}),Y(nt,null,{header:q(()=>[...e[12]||(e[12]=[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Analytics & Reports ",-1)])]),default:q(()=>[t("div",it,[t("div",dt,[t("div",rt,[t("nav",ut,[t("button",{onClick:e[0]||(e[0]=s=>p.value="overview"),class:A(["whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium",p.value==="overview"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"])}," Overview ",2),t("button",{onClick:e[1]||(e[1]=s=>p.value="individual"),class:A(["whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium",p.value==="individual"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"])}," Individual Entries ",2),t("button",{onClick:e[2]||(e[2]=s=>{p.value="activity",M()}),class:A(["whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium",p.value==="activity"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"])}," Activity Log ",2)])]),p.value==="overview"?(n(),l("div",ct,[t("div",mt,[t("div",vt,[t("div",xt,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Period",-1)),g(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>k.value=s),onChange:B,class:"rounded-md border-gray-300 shadow-sm"},[...e[13]||(e[13]=[t("option",{value:"daily"},"Daily",-1),t("option",{value:"weekly"},"Weekly",-1),t("option",{value:"monthly"},"Monthly",-1),t("option",{value:"ytd"},"Year to Date",-1)])],544),[[T,k.value]])]),t("div",{class:"flex gap-2"},[t("button",{onClick:O,class:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green-500"}," Export CSV "),t("button",{onClick:R,class:"rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-red-500"}," Export PDF ")])])]),m.value&&!f.value?(n(),l("div",pt,[t("div",gt,[t("div",ft,[t("div",yt,[e[16]||(e[16]=t("div",{class:"flex-shrink-0"},[t("div",{class:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center"},[t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),t("div",ht,[t("dl",null,[e[15]||(e[15]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Employees",-1)),t("dd",wt,a(m.value.statistics.total_employees),1)])])])])]),t("div",bt,[t("div",_t,[t("div",kt,[e[18]||(e[18]=t("div",{class:"flex-shrink-0"},[t("div",{class:"h-8 w-8 rounded-full bg-green-500 flex items-center justify-center"},[t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",Mt,[t("dl",null,[e[17]||(e[17]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Hours",-1)),t("dd",Tt,a(m.value.statistics.total_hms||j(m.value.statistics.total_hours)),1)])])])])]),t("div",Ct,[t("div",Dt,[t("div",St,[e[20]||(e[20]=t("div",{class:"flex-shrink-0"},[t("div",{class:"h-8 w-8 rounded-full bg-yellow-500 flex items-center justify-center"},[t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),t("div",Ut,[t("dl",null,[e[19]||(e[19]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Lates",-1)),t("dd",Lt,a(m.value.statistics.lates_count),1)])])])])]),t("div",$t,[t("div",Et,[t("div",Nt,[e[22]||(e[22]=t("div",{class:"flex-shrink-0"},[t("div",{class:"h-8 w-8 rounded-full bg-purple-500 flex items-center justify-center"},[t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",At,[t("dl",null,[e[21]||(e[21]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Overtime",-1)),t("dd",Ft,a(m.value.statistics.overtime_count),1)])])])])])])):x("",!0),m.value&&!f.value?(n(),l("div",Vt,[t("div",jt,[e[23]||(e[23]=t("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Average Hours",-1)),t("p",Ht,a(j(m.value.statistics.average_hours)),1)]),t("div",Pt,[e[24]||(e[24]=t("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Perfect Attendance",-1)),t("p",Bt,a(m.value.statistics.perfect_attendance_count),1)]),t("div",zt,[e[25]||(e[25]=t("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Undertime",-1)),t("p",It,a(m.value.statistics.undertime_count),1)])])):x("",!0),m.value&&!f.value?(n(),l("div",Ot,[t("div",Rt,[e[27]||(e[27]=t("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"},"Top Employees",-1)),t("table",Yt,[e[26]||(e[26]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Name"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Total Hours"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Entries")])],-1)),t("tbody",qt,[(n(!0),l(_,null,C(m.value.top_employees,s=>(n(),l("tr",{key:s.id},[t("td",Wt,a(s.name),1),t("td",Gt,a(j(s.total_hours)),1),t("td",Jt,a(s.entries_count),1)]))),128))])])])])):x("",!0),f.value?(n(),l("div",Kt,[...e[28]||(e[28]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1),t("p",{class:"mt-2 text-sm text-gray-500"},"Loading...",-1)])])):x("",!0)])):x("",!0),p.value==="individual"?(n(),l("div",Qt,[t("div",Xt,[t("div",{class:"flex justify-between items-center mb-4"},[e[29]||(e[29]=t("h3",{class:"text-lg font-medium text-gray-900"},"Filters",-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:O,class:"rounded-md bg-green-600 px-3 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-green-500"}," Export CSV "),t("button",{onClick:R,class:"rounded-md bg-red-600 px-3 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-red-500"}," Export PDF ")])]),t("div",Zt,[t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Team",-1)),g(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>U.value=s),onChange:w,class:"w-full rounded-md border-gray-300 shadow-sm"},[e[30]||(e[30]=t("option",{value:null},"All Teams",-1)),(n(!0),l(_,null,C(P.value,s=>(n(),l("option",{key:s.id,value:s.id},a(s.name),9,te))),128))],544),[[T,U.value]])]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"User",-1)),g(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>S.value=s),onChange:w,class:"w-full rounded-md border-gray-300 shadow-sm"},[e[32]||(e[32]=t("option",{value:null},"All Users",-1)),(n(!0),l(_,null,C(H.value,s=>(n(),l("option",{key:s.id,value:s.id},a(s.name),9,ee))),128))],544),[[T,S.value]])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),g(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>y.value=s),onChange:w,type:"date",class:"w-full rounded-md border-gray-300 shadow-sm"},null,544),[[W,y.value]])]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),g(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>h.value=s),onChange:w,type:"date",class:"w-full rounded-md border-gray-300 shadow-sm"},null,544),[[W,h.value]])]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),g(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>L.value=s),onChange:w,class:"w-full rounded-md border-gray-300 shadow-sm"},[...e[36]||(e[36]=[t("option",{value:""},"All",-1),t("option",{value:"late"},"Late",-1),t("option",{value:"undertime"},"Undertime",-1),t("option",{value:"overtime"},"Overtime",-1),t("option",{value:"perfect"},"Perfect",-1)])],544),[[T,L.value]])])])]),t("div",se,[t("div",oe,[t("table",ae,[e[39]||(e[39]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Employee"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Team"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Task Name"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Date"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Total Hours")])],-1)),t("tbody",le,[(n(!0),l(_,null,C(F.value,s=>{var d,u,c,r,v;return n(),l("tr",{key:s.id},[t("td",ne,a((d=s.user)==null?void 0:d.name),1),t("td",ie,a(((c=(u=s.user)==null?void 0:u.team)==null?void 0:c.name)||"--"),1),t("td",de,a(((r=s.task)==null?void 0:r.title)||((v=s.task)==null?void 0:v.name)||(s.clock_out?"--":"Clock In")),1),t("td",re,a(z(s.date)),1),t("td",ue,a(s.clock_out?X(s):"--"),1)])}),128)),F.value.length===0&&!$.value?(n(),l("tr",ce,[...e[38]||(e[38]=[t("td",{colspan:"5",class:"px-4 py-4 text-center text-sm text-gray-500"},"No entries found",-1)])])):x("",!0)])])]),$.value?(n(),l("div",me,[...e[40]||(e[40]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1),t("p",{class:"mt-2 text-sm text-gray-500"},"Loading...",-1)])])):x("",!0)])])):x("",!0),p.value==="activity"?(n(),l("div",ve,[t("div",xe,[t("div",pe,[e[42]||(e[42]=t("h3",{class:"text-lg font-medium text-gray-900"},"Real-Time Activity Log",-1)),t("div",ge,[e[41]||(e[41]=t("div",{class:"flex items-center gap-2 text-sm text-gray-600"},[t("span",{class:"inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t("span",null,"Live Updates")],-1)),t("button",{onClick:e[9]||(e[9]=s=>M()),class:"rounded-md bg-indigo-600 px-3 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-indigo-500"}," Refresh ")])]),t("div",fe,[t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Filter by Action",-1)),g(t("select",{"onUpdate:modelValue":e[10]||(e[10]=s=>N.value=s),onChange:e[11]||(e[11]=s=>M()),class:"w-full rounded-md border-gray-300 shadow-sm"},[...e[43]||(e[43]=[t("option",{value:""},"All Actions",-1),t("option",{value:"clock_in"},"Clock In",-1),t("option",{value:"clock_out"},"Clock Out",-1),t("option",{value:"break_start"},"Break Start",-1),t("option",{value:"break_end"},"Break End",-1),t("option",{value:"lunch_start"},"Lunch Start",-1),t("option",{value:"lunch_end"},"Lunch End",-1)])],544),[[T,N.value]])])])]),t("div",ye,[t("div",he,[t("table",we,[e[46]||(e[46]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"User"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Action"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Description"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Time")])],-1)),t("tbody",be,[(n(!0),l(_,null,C(V.value,s=>{var d,u,c;return n(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",_e,[t("div",ke,[t("div",Me,[t("div",Te,[t("span",Ce,a((d=s.user)!=null&&d.name?s.user.name.charAt(0).toUpperCase():"?"),1)])]),t("div",De,[t("div",Se,a(((u=s.user)==null?void 0:u.name)||"Unknown User"),1),t("div",Ue,a((c=s.user)==null?void 0:c.email),1)])])]),t("td",Le,[t("span",{class:A(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-green-100 text-green-800":s.action==="clock_in","bg-red-100 text-red-800":s.action==="clock_out","bg-yellow-100 text-yellow-800":s.action.includes("break"),"bg-blue-100 text-blue-800":s.action.includes("lunch")}])},a(s.action.replace("_"," ").replace(/\b\w/g,r=>r.toUpperCase())),3)]),t("td",$e,[t("div",Ee,a(s.description),1)]),t("td",Ne,[lt(a(z(s.created_at))+" ",1),t("div",Ae,a(Q(s.created_at)),1)])])}),128)),V.value.length===0&&!E.value?(n(),l("tr",Fe,[...e[45]||(e[45]=[t("td",{colspan:"4",class:"px-4 py-4 text-center text-sm text-gray-500"},"No activity logs found",-1)])])):x("",!0)])])]),E.value?(n(),l("div",Ve,[...e[47]||(e[47]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1),t("p",{class:"mt-2 text-sm text-gray-500"},"Loading...",-1)])])):x("",!0)])])):x("",!0)])])]),_:1})],64))}});export{ze as default};
